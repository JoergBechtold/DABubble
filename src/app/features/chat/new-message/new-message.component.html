<div class="new-message-container">
  <!-- Header -->
  <div class="new-message-header">
    <h2>Neue Nachricht</h2>
  </div>

  <!-- Recipient Input -->
  <div class="recipient-input-wrapper">
    <label for="recipientInput" class="recipient-label">An:</label>
    <input
      #recipientInput
      id="recipientInput"
      type="text"
      placeholder="#channel, oder @jemand oder E-Mail Adresse"
      autocomplete="off"
      (input)="onSearchInput($event)"
    />
  </div>

  <!-- Dropdown Results -->
  <div *ngIf="(filteredResults$ | async) as results" class="recipient-dropdown">
    <ng-container *ngIf="results.length > 0">
      <ul class="recipient-list">
        <li *ngFor="let item of results" class="recipient-option">
          <app-profile-badge 
            *ngIf="item._type === 'user'" 
            [user]="item" 
            (click)="onUserClick(item)"
            [openProfileDetailsOnClick]="false"
          />
          
          <app-channel-badge 
            *ngIf="item._type === 'channel'" 
            [channel]="item"
            (click)="onChannelClick(item)"
          />
        </li>
      </ul>
    </ng-container>
  </div>

  <!-- Empty Content Area -->
  <div class="message-content">
    <!-- Leer - wird später gefüllt wenn User ausgewählt -->
  </div>

  <!-- Message Input Footer -->
  <div class="message-input-footer">
    <app-message-input 
      placeholder="Nachricht an ..."
      [isDM]="true"
    />
  </div>
</div>