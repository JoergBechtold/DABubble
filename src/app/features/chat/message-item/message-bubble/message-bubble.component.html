<div class="message-body">
  <p class="message-text">{{ message?.text || message?.content || '' }}</p>

  <div class="message-hover-actions">
    <button *ngIf="getTopEmoji(0)" class="quick-reaction-btn" (click)="addQuickReaction(getTopEmoji(0))">
      <span class="quick-emoji">{{ getTopEmoji(0) }}</span>
    </button>
    <button *ngIf="getTopEmoji(1)" class="quick-reaction-btn" (click)="addQuickReaction(getTopEmoji(1))">
      <span class="quick-emoji">{{ getTopEmoji(1) }}</span>
    </button>

    <button class="hover-action-btn" (click)="onEmojiPickerToggle($event)" title="Emoji hinzufÃ¼gen">
      <svg viewBox="0 0 24 24">
        <path
          d="M12 22C10.6167 22 9.31667 21.7373 8.1 21.212C6.88333 20.6873 5.825 19.975 4.925 19.075C4.025 18.175 3.31267 17.1167 2.788 15.9C2.26267 14.6833 2 13.3833 2 12C2 10.6167 2.26267 9.31667 2.788 8.1C3.31267 6.88333 4.025 5.825 4.925 4.925C5.825 4.025 6.88333 3.31233 8.1 2.787C9.31667 2.26233 10.6167 2 12 2C12.75 2 13.4793 2.079 14.188 2.237C14.896 2.39567 15.5667 2.625 16.2 2.925C16.1333 3.09167 16.0833 3.26667 16.05 3.45C16.0167 3.63333 16 3.81667 16 4C16 4.23333 16.025 4.454 16.075 4.662C16.125 4.87067 16.1917 5.06667 16.275 5.25C15.6583 4.86667 14.9917 4.56233 14.275 4.337C13.5583 4.11233 12.8 4 12 4C9.78333 4 7.896 4.779 6.338 6.337C4.77933 7.89567 4 9.78333 4 12C4 14.2167 4.77933 16.1043 6.338 17.663C7.896 19.221 9.78333 20 12 20C14.2167 20 16.1043 19.221 17.663 17.663C19.221 16.1043 20 14.2167 20 12C20 11.3333 19.921 10.6917 19.763 10.075C19.6043 9.45833 19.3833 8.875 19.1 8.325L17.8 9.625C17.9333 10.0417 18.0293 10.475 18.088 10.925C18.146 11.375 18.175 11.8333 18.175 12.3C18.175 13.8 17.6207 15.1043 16.512 16.213C15.404 17.321 14.1 17.875 12.6 17.875C11.1 17.875 9.796 17.321 8.688 16.213C7.57933 15.1043 7.025 13.8 7.025 12.3C7.025 10.8 7.57933 9.496 8.688 8.388C9.796 7.27933 11.1 6.725 12.6 6.725C13.0667 6.725 13.5207 6.77933 13.962 6.888C14.404 6.996 14.8333 7.15 15.25 7.35L16.55 6.05C15.9 5.68333 15.2043 5.41233 14.463 5.237C13.721 5.06233 12.9667 4.975 12.2 4.975C10.2833 4.975 8.57067 5.67067 7.162 7.062C5.75400 8.45400 5.05 10.1833 5.05 12.15C5.05 14.1167 5.75400 15.846 7.162 17.238C8.57067 18.6293 10.2833 19.325 12.2 19.325C14.1167 19.325 15.846 18.6293 17.238 17.238C18.6293 15.846 19.325 14.1167 19.325 12.15C19.325 11.3833 19.2377 10.629 19.063 9.887C18.888 9.146 18.6333 8.45 18.3 7.8L21.2 4.9C21.4667 5.2 21.6833 5.51667 21.85 5.85C22.0167 6.18333 22.1333 6.53333 22.2 6.9C22.4 7.41667 22.5417 7.95833 22.625 8.525C22.7083 9.09167 22.75 9.66667 22.75 10.25C22.75 10.6 22.725 10.9417 22.675 11.275C22.625 11.6083 22.5583 11.9333 22.475 12.25C22.3917 12.8833 22.2083 13.4833 21.925 14.05C21.6417 14.6167 21.2833 15.125 20.85 15.575C20.1833 16.2417 19.4083 16.7667 18.525 17.15C17.6417 17.5333 16.7083 17.725 15.725 17.725C15.1083 17.725 14.5083 17.6417 13.925 17.475C13.3417 17.3083 12.8 17.075 12.3 16.775C11.8 16.475 11.3417 16.1167 10.925 15.7C10.5083 15.2833 10.1417 14.8167 9.825 14.3L8.5 15.6C8.91667 16.1667 9.39167 16.6833 9.925 17.15C10.4583 17.6167 11.0333 18.025 11.65 18.375C12.2667 18.725 12.9167 18.9917 13.6 19.175C14.2833 19.3583 14.9833 19.45 15.7 19.45C16.7833 19.45 17.8167 19.2083 18.8 18.725C19.7833 18.2417 20.6417 17.575 21.375 16.725C21.7917 16.2417 22.1333 15.7 22.4 15.1C22.6667 14.5 22.8417 13.8667 22.925 13.2C22.975 12.8667 23 12.525 23 12.175C23 11.5917 22.9583 11.0167 22.875 10.45C22.7917 9.88333 22.6583 9.33333 22.475 8.8C22.3583 8.43333 22.2083 8.08333 22.025 7.75C21.8417 7.41667 21.6167 7.1 21.35 6.8L18.4 9.75C18.5333 10.1667 18.6293 10.6 18.688 11.05C18.746 11.5 18.775 11.9583 18.775 12.425C18.775 13.925 18.221 15.2293 17.113 16.338C16.0043 17.446 14.7 18 13.2 18C11.7 18 10.396 17.446 9.288 16.338C8.17933 15.2293 7.625 13.925 7.625 12.425C7.625 10.925 8.17933 9.62067 9.288 8.513C10.396 7.40467 11.7 6.85 13.2 6.85C13.6667 6.85 14.1207 6.904 14.562 7.013C15.004 7.121 15.4333 7.275 15.85 7.475L17.15 6.175C16.5 5.80833 15.8043 5.53733 15.063 5.363C14.321 5.188 13.5667 5.1 12.8 5.1C10.8833 5.1 9.17067 5.79567 7.762 7.188C6.354 8.579 5.65 10.3083 5.65 12.275C5.65 14.2417 6.354 15.971 7.762 17.363C9.17067 18.754 10.8833 19.45 12.8 19.45C14.7167 19.45 16.446 18.754 17.838 17.363C19.2293 15.971 19.925 14.2417 19.925 12.275C19.925 11.5083 19.8377 10.754 19.663 10.013C19.488 9.271 19.2333 8.575 18.9 7.925L21.8 5.025C22.0667 5.325 22.2833 5.64167 22.45 5.975C22.6167 6.30833 22.7333 6.65833 22.8 7.025C23 7.54167 23.1417 8.08333 23.225 8.65C23.3083 9.21667 23.35 9.79167 23.35 10.375C23.35 10.725 23.325 11.0667 23.275 11.4C23.225 11.7333 23.1583 12.0583 23.075 12.375C22.9917 13.0083 22.8083 13.6083 22.525 14.175C22.2417 14.7417 21.8833 15.25 21.45 15.7C20.7833 16.3667 20.0083 16.8917 19.125 17.275C18.2417 17.6583 17.3083 17.85 16.325 17.85C15.7083 17.85 15.1083 17.7667 14.525 17.6C13.9417 17.4333 13.4 17.2 12.9 16.9C12.4 16.6 11.9417 16.2417 11.525 15.825C11.1083 15.4083 10.7417 14.9417 10.425 14.425L9.1 15.725C9.51667 16.2917 9.99167 16.8083 10.525 17.275C11.0583 17.7417 11.6333 18.15 12.25 18.5C12.8667 18.85 13.5167 19.1167 14.2 19.3C14.8833 19.4833 15.5833 19.575 16.3 19.575C17.3833 19.575 18.4167 19.3333 19.4 18.85C20.3833 18.3667 21.2417 17.7 21.975 16.85C22.3917 16.3667 22.7333 15.825 23 15.225C23.2667 14.625 23.4417 13.9917 23.525 13.325C23.575 12.9917 23.6 12.65 23.6 12.3C23.6 11.7167 23.5583 11.1417 23.475 10.575C23.3917 10.0083 23.2583 9.45833 23.075 8.925C22.9583 8.55833 22.8083 8.20833 22.625 7.875C22.4417 7.54167 22.2167 7.225 21.95 6.925Z"
        />
      </svg>
    </button>

    <button class="hover-action-btn" (click)="onReplyClick()" title="Antworten">
      <svg viewBox="0 0 24 24">
        <path
          d="M9 8H15C17.2091 8 19 9.79086 19 12V12C19 14.2091 17.2091 16 15 16H5M5 16L8 13M5 16L8 19"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          fill="none"
        />
      </svg>
    </button>
  </div>
</div>